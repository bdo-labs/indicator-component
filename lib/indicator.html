<section class="interactive-box indicator-module">

	<h1>{{indicator.name}}</h1>

	<div class="dropdown">
		<a data-toggle="dropdown" class="dropdown-toggle" href="#">{{state.visibleMeasurement.date | date : 'MMMM yyyy'}}</a>
		<ul class="dropdown-menu">
			<li ng-repeat="o in (indicator.measurements | orderBy: '-date')"
				ng-click="state.visibleMeasurement = o">
				{{o.date |  date : 'MMMM yyyy'}}
			</li>
		</ul>

	</div>

	<p>{{indicator.description}}. Oppdateres {{indicator.updateInterval | timeInterval}}.</p>

	<div class="status">

		<dl>
			<dt>Mål for {{state.visibleGoal.date | date : 'MMMM yyyy'}}:</dt>
			<dd>{{state.visibleGoal.value}},-</dd>

			<dt>Status ved
				{{state.visibleMeasurement.date | date : 'dd.MM.yy'}}:</dt>
			<dd>{{state.visibleMeasurement.value}},-</dd>
		</dl>

		<span>{{state.visibleGoal.value}},-</span>
		<div class="bdo-progress"
				bdo-progress="state.visibleMeasurement.value"
				bdo-progress-low="indicator.thresholdLow"
				bdo-progress-high="indicator.thresholdHigh"
				bdo-progress-max="indicator.thresholdMax">
		</div>

	</div>

	<button ng-click="registerValue()">Rapporter måloppnåelse</button>
	<highchart class="visual" config="highChartsConfig"></highchart>

</section>
